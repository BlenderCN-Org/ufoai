// ==================
// HIRE MENU
// ==================
menu employees
{
	// ==================
	// don't render
	// ==================

	zone render
	{
		invis false
	}

	// ==================
	// background
	// ==================

	pic background
	{
		image	menu/employee_bg
	}

	// ==================
	// names list
	// ==================

	func employee_clear
	{
	}

	/**
	 * @param[in] <1> row of the employee in the view
	 */
	confunc employeedel
	{
		cmd "mn_setnodeproperty bt_employee<1> current 0"
		*bt_employee<1> invis false
	}

	/**
	 * @param[in] <1> row of the employee in the view
	 */
	confunc employeeadd
	{
		cmd "mn_setnodeproperty bt_employee<1> current 1"
		*bt_employee<1> invis false
	}

	/**
	 * @param[in] <1> row of the employee in the view
	 */
	confunc employeedisable
	{
		*bt_employee<1> invis true
	}

	checkbox bt_employee0
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 180"
		size "20 20"
		change { cmd "employee_hire 0;" }
		rclick { cmd "employee_delete 0;" }
	}
	checkbox bt_employee1
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 218"
		size "20 20"
		change { cmd "employee_hire 1;" }
		rclick { cmd "employee_delete 1;" }
	}
	checkbox bt_employee2
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 256"
		size "20 20"
		change { cmd "employee_hire 2;" }
		rclick { cmd "employee_delete 2;" }
	}
	checkbox bt_employee3
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 294"
		size "20 20"
		change { cmd "employee_hire 3;" }
		rclick { cmd "employee_delete 3;" }
	}
	checkbox bt_employee4
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 332"
		size "20 20"
		change { cmd "employee_hire 4;" }
		rclick { cmd "employee_delete 4;" }
	}
	checkbox bt_employee5
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 370"
		size "20 20"
		change { cmd "employee_hire 5;" }
		rclick { cmd "employee_delete 5;" }
	}
	checkbox bt_employee6
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 408"
		size "20 20"
		change { cmd "employee_hire 6;" }
		rclick { cmd "employee_delete 6;" }
	}
	checkbox bt_employee7
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 446"
		size "20 20"
		change { cmd "employee_hire 7;" }
		rclick { cmd "employee_delete 7;" }
	}
	checkbox bt_employee8
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 484"
		size "20 20"
		change { cmd "employee_hire 8;" }
		rclick { cmd "employee_delete 8;" }
	}
	checkbox bt_employee9
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 522"
		size "20 20"
		change { cmd "employee_hire 9;" }
		rclick { cmd "employee_delete 9;" }
	}
	checkbox bt_employee10
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 560"
		size "20 20"
		change { cmd "employee_hire 10;" }
		rclick { cmd "employee_delete 10;" }
	}
	checkbox bt_employee11
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 598"
		size "20 20"
		change { cmd "employee_hire 11;" }
		rclick { cmd "employee_delete 11;" }
	}
	checkbox bt_employee12
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 636"
		size "20 20"
		change { cmd "employee_hire 12;" }
		rclick { cmd "employee_delete 12;" }
	}
	checkbox bt_employee13
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 674"
		size "20 20"
		change { cmd "employee_hire 13;" }
		rclick { cmd "employee_delete 13;" }
	}
	checkbox bt_employee14
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 712"
		size "20 20"
		change { cmd "employee_hire 14;" }
		rclick { cmd "employee_delete 14;" }
	}

	/**
	 * @param[in] <1> number of employee in the list
	 */
	confunc hire_update_number {
		cmd "mn_setnodeproperty scroll fullsize <1>"
	}

	confunc hire_fix_scroll {
		cmd "mn_setnodeproperty scroll current <1>"
	}

	vscrollbar scroll
	{
		image	menu/scrollbar_v_green	blend	true
		pos	"360 180"	size	"27 552"
		current 0
		viewsize 15
		fullsize 50
		change {
			cmd "mn_textscroll employee_list <lastdiff>; employee_scroll;"
		}
	}

	text employee_list
	{
		pos	"45 185"
		width	280
		lineheight	38
		tabwidth	100
		rows	"15"
		color	"0 .78 0 1"
		selectcolor	"1 1 1 1"
		mousefx	true
		textid		TEXT_LIST
//		bgcolor	"1 1 1 0.5"
		click
		whup	{ cmd "mn_textscroll employee_list -1; employee_scroll;" }
		whdown	{ cmd "mn_textscroll employee_list 1; employee_scroll;" }
	}

	// ==================
	// actor info
	// ==================

	textentry name
	{
		if "mn_show_employee >= 1"
		string	"*cvar mn_name"
		pos		"465 262"
		size	"400 32"
		change {
			cmd	"team_changename;"
		}
	}

	pic bt_edit
	{
		if "mn_employee_hired == 1"
		tooltip	"_Rename your employee"
		image	menu/buttons_small
		pos	"865 268"
		texl	"0 48"
		texh	"16 64"
		click
		{
			cmd "mn_edittextentry name"
		}
	}

	model body
	{
		if "mn_show_employee >= 1"
		model	"*cvar mn_body"
		skin	"*cvar mn_skin"
		anim	"stand2"
		origin	"580 465 0"
		angles	"0 70 90"
		// FIXME - use pos and size for autoscaling - doesn't work with tags atm
//		pos		"480 100"
//		size	"190 300"
//		bgcolor	"1 1 1 0.5"
		scale	"6.7 6.7 6.7"
	}

	model head
	{
		if "mn_show_employee >= 1"
		model		"*cvar mn_head"
		skin	"*cvar mn_skin"
		tag		"body tag_head"
		scale	"1.0 1.0 1.0"
	}

	pic	rank_img
	{
		if "mn_show_employee >= 1"
		pos "485 621" image "*cvar mn_chrrank_img"
	}

	string	rank_lbl
	{
		if "mn_show_employee >= 1"
		pos "485 330" string "*cvar mn_chrrank"
	}

	string pwr_lbl
	{
		if "mn_show_employee == 1"
		pos "710 330"  string "_Strength:"
	}
	string pwr_val
	{
		if "mn_show_employee == 1"
		pos "985 330"  string "*cvar mn_tpwr" align ur
	}
	pic pwr_brd
	{
		if "mn_show_employee == 1"
		pos "714 345"  image menu/bar_border align ul_rsl
	}
	tbar pwr_bar
	{
		if "mn_show_employee == 1"
		pos "717 345"  align ul_rsl current "*cvar mn_vpwr" point_width 2.2 gap_width 3 texl "3 0" image menu/bar_attribute
	}

	string spd_lbl
	{
		if "mn_show_employee == 1"
		pos "710 360" string "_Speed:"
	}
	string spd_val
	{
		if "mn_show_employee == 1"
		pos "985 360" string "*cvar mn_tspd" align ur
	}
	pic spd_bdr
	{
		if "mn_show_employee == 1"
		pos "714 375" image menu/bar_border align ul_rsl
	}
	tbar spd_bar
	{
		if "mn_show_employee == 1"
		pos "717 375" align ul_rsl current "*cvar mn_vspd" point_width 2.2 gap_width 3 texl "3 0" image menu/bar_attribute
	}

	string acc_lbl
	{
		if "mn_show_employee == 1"
		pos "710 390" string "_Accuracy:"
	}
	string acc_val
	{
		if "mn_show_employee == 1"
		pos "985 390" string "*cvar mn_tacc" align ur
	}

	pic acc_bdr
	{
		if "mn_show_employee == 1"
		pos "714 405" image menu/bar_border align ul_rsl
	}
	tbar acc_bar
	{
		if "mn_show_employee == 1"
		pos "717 405" align ul_rsl current "*cvar mn_vacc" point_width 2.2 gap_width 3 texl "3 0" image menu/bar_attribute
	}

	string mnd_lbl
	{
		if "mn_show_employee == 1"
		pos "710 420" string "_Mind:"
	}
	string mnd_val
	{
		if "mn_show_employee == 1"
		pos "985 420" string "*cvar mn_tmnd" align ur
	}
	pic mnd_bdr
	{
		if "mn_show_employee == 1"
		pos "714 435" image menu/bar_border align ul_rsl
	}
	tbar mnd_bar
	{
		if "mn_show_employee == 1"
		pos "717 435" align ul_rsl current "*cvar mn_vmnd" point_width 2.2 gap_width 3 texl "3 0" image menu/bar_attribute
	}

	string cls_lbl
	{
		if "mn_show_employee == 1"
		pos "710 455" string "_Close Combat:"
	}
	string cls_val
	{
		if "mn_show_employee == 1"
		pos "985 455" string "*cvar mn_tcls" align ur
	}
	pic cls_bdr
	{
		if "mn_show_employee == 1"
		pos "714 470" image menu/bar_border align ul_rsl
	}
	tbar cls_bar
	{
		if "mn_show_employee == 1"
		pos "717 470" align ul_rsl current "*cvar mn_vcls" point_width 2.2 gap_width 3 texl "3 0" image menu/bar_skill
	}

	string hvy_lbl
	{
		if "mn_show_employee == 1"
		pos "710 485" string "_Heavy Weapons:"
	}
	string hvy_val
	{
		if "mn_show_employee == 1"
		pos "985 485" string "*cvar mn_thvy" align ur
	}
	pic hvy_bdr
	{
		if "mn_show_employee == 1"
		pos "714 500" image menu/bar_border align ul_rsl
	}
	tbar hvy_bar
	{
		if "mn_show_employee == 1"
		pos "717 500" align ul_rsl current "*cvar mn_vhvy" point_width 2.2 gap_width 3 texl "3 0" image menu/bar_skill
	}

	string ass_lbl
	{
		if "mn_show_employee == 1"
		pos "710 515" string "_Assault Weapons:"
	}
	string ass_val
	{
		if "mn_show_employee == 1"
		pos "985 515" string "*cvar mn_tass" align ur
	}
	pic ass_bdr
	{
		if "mn_show_employee == 1"
		pos "714 530" image menu/bar_border align ul_rsl
	}
	tbar ass_bar
	{
		if "mn_show_employee == 1"
		pos "717 530" align ul_rsl current "*cvar mn_vass" point_width 2.2 gap_width 3 texl "3 0" image menu/bar_skill
	}

	string snp_lbl
	{
		if "mn_show_employee == 1"
		pos "710 545" string "_Sniper Rifles:"
	}
	string snp_val
	{
		if "mn_show_employee == 1"
		pos "985 545" string "*cvar mn_tsnp" align ur
	}
	pic snp_bdr
	{
		if "mn_show_employee == 1"
		pos "714 560" image menu/bar_border align ul_rsl
	}
	tbar snp_bar
	{
		if "mn_show_employee == 1"
		pos "717 560" align ul_rsl current "*cvar mn_vsnp" point_width 2.2 gap_width 3 texl "3 0" image menu/bar_skill
	}

	string exp_lbl
	{
		if "mn_show_employee == 1"
		pos "710 575" string "_High-Explosives:"
	}
	string exp_val
	{
		if "mn_show_employee == 1"
		pos "985 575" string "*cvar mn_texp" align ur
	}

	pic exp_bdr
	{
		if "mn_show_employee == 1"
		pos "714 590" image menu/bar_border align ul_rsl
	}
	tbar exp_bar
	{
		if "mn_show_employee == 1"
		pos "717 590" align ul_rsl current "*cvar mn_vexp" point_width 2.2 gap_width 3 texl "3 0" image menu/bar_skill
	}

	string hp_lbl
	{
		if "mn_show_employee == 1"
		pos "710 610" string "_Health:"
	}
	string hp_val
	{
		if "mn_show_employee == 1"
		pos "985 610" string "*cvar mn_thp" align ur
	}
	pic hp_bdr
	{
		if "mn_show_employee == 1"
		pos "714 625"  image menu/bar_border align ul_rsl
	}
	tbar hp_bar
	{
		if "mn_show_employee == 1"
		pos "717 625" current	"*cvar mn_vhp" max "*cvar mn_vhpmax" align ul_rsl point_width 2.2 gap_width 3 texl "3 0" image menu/bar_health
	}

	string	missions_lbl
	{
		if "mn_show_employee == 1"
		pos "710 645" string "_Missions Performed:"
	}
	string	missions_val
	{
		if "mn_show_employee == 1"
		pos "985 645" string "*cvar mn_chrmis" align ur
	}

	string	kills_lbl
	{
		if "mn_show_employee == 1"
		pos "710 665" string "_Enemies Killed:"
	}
	string	kills_val
	{
		if "mn_show_employee == 1"
		pos "985 665" string "*cvar mn_chrkillalien" align ur
	}

	// ====================
	// employee description
	// ====================

	text description
	{
		pos		"610 428"
//		bgcolor "1 1 1 0.5"
		size	"366 80"
		lineheight	20
		tabwidth	260
		textid		TEXT_EMPLOYEE
		rows	"4"
	}

	// ==================
	// buttons
	// ==================

	tab empl_switch {
		cvar "*cvar"
		pos	"35 107"
		size	"950 40"
		cvar	"*cvar mn_hiretype"
		option soldier {
			label	"_Soldiers"
			value	"0"
			icon	greenhead_soldier
			action "employee_init 0;"
		}
		option pilot {
			label	"_Pilots"
			value	"3"
			icon	greenhead_pilot
			action "employee_init 3;"
		}
		option worker {
			label	"_Workers"
			value	"2"
			icon	greenhead_worker
			action "employee_init 2;"
		}
		option scientist {
			label	"_Scientists"
			value	"1"
			icon	greenhead_scientist
			action "employee_init 1;"
		}
		//option medic {
		//	label	"_Medics"
		//	value	"5"
		//	icon	greenhead_medic
		//	action "employee_init 4;"
		//}
	}

	// ==================
	// General info
	// ==================

	string base_name
	{
		tooltip	"_Name of this base"
		string	"*cvar mn_base_title"
		pos	"60 30"
		size "240 32"
		textalign	cl
		padding	8
		font	f_big
	}

	string txt_credits_caption
	{
		string	"_CREDIT"
		pos	"680 30"
		font	f_big
		align	ul
	}

	string txt_credits
	{
		tooltip	"_Organisation capital"
		string	"*cvar mn_credits"
		pos	"900 30"
		font	f_big
		align	ur
	}

	custombutton bt_continue
	{
		image	menu/button_background	blend	true
		texl	"1 1"	size	"59 55"
		tooltip	"_Back to baseview"
		pos		"950 20"
		icon	"return"
		click	{ cmd "mn_pop;" }
	}

	// ==================
	// init function
	// ==================

	func init
	{
		call employee_clear
		cmd "employee_init 0;"
		cmd "set mn_hiretype 0;"
	}

	func close
	{
		// call base init function because the amount of workers, scientists and
		// so on can also change the button state in the base view
		cmd "base_init;"
	}
}
