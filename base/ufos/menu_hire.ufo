// ==================
// HIRE MENU
// ==================
menu employees
{
	// ==================
	// background
	// ==================

	pic background
	{
		image	menu/employee_bg
	}

	// ==================
	// names list
	// ==================

	func employee_clear
	{
	}

	/**
	 * @param[in] <1> row of the employee in the view
	 */
	confunc employeedel
	{
		*(abstractvalue)bt_employee<1> current 0
		*bt_employee<1> invis false
	}

	/**
	 * @param[in] <1> row of the employee in the view
	 */
	confunc employeeadd
	{
		*(abstractvalue)bt_employee<1> current 1
		*bt_employee<1> invis false
	}

	/**
	 * @param[in] <1> row of the employee in the view
	 */
	confunc employeedisable
	{
		*bt_employee<1> invis true
	}

	checkbox bt_employee0
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 180"
		size "20 20"
		change { cmd "employee_hire 0;" }
		rclick { cmd "employee_delete 0;" }
	}
	checkbox bt_employee1
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 218"
		size "20 20"
		change { cmd "employee_hire 1;" }
		rclick { cmd "employee_delete 1;" }
	}
	checkbox bt_employee2
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 256"
		size "20 20"
		change { cmd "employee_hire 2;" }
		rclick { cmd "employee_delete 2;" }
	}
	checkbox bt_employee3
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 294"
		size "20 20"
		change { cmd "employee_hire 3;" }
		rclick { cmd "employee_delete 3;" }
	}
	checkbox bt_employee4
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 332"
		size "20 20"
		change { cmd "employee_hire 4;" }
		rclick { cmd "employee_delete 4;" }
	}
	checkbox bt_employee5
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 370"
		size "20 20"
		change { cmd "employee_hire 5;" }
		rclick { cmd "employee_delete 5;" }
	}
	checkbox bt_employee6
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 408"
		size "20 20"
		change { cmd "employee_hire 6;" }
		rclick { cmd "employee_delete 6;" }
	}
	checkbox bt_employee7
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 446"
		size "20 20"
		change { cmd "employee_hire 7;" }
		rclick { cmd "employee_delete 7;" }
	}
	checkbox bt_employee8
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 484"
		size "20 20"
		change { cmd "employee_hire 8;" }
		rclick { cmd "employee_delete 8;" }
	}
	checkbox bt_employee9
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 522"
		size "20 20"
		change { cmd "employee_hire 9;" }
		rclick { cmd "employee_delete 9;" }
	}
	checkbox bt_employee10
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 560"
		size "20 20"
		change { cmd "employee_hire 10;" }
		rclick { cmd "employee_delete 10;" }
	}
	checkbox bt_employee11
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 598"
		size "20 20"
		change { cmd "employee_hire 11;" }
		rclick { cmd "employee_delete 11;" }
	}
	checkbox bt_employee12
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 636"
		size "20 20"
		change { cmd "employee_hire 12;" }
		rclick { cmd "employee_delete 12;" }
	}
	checkbox bt_employee13
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 674"
		size "20 20"
		change { cmd "employee_hire 13;" }
		rclick { cmd "employee_delete 13;" }
	}
	checkbox bt_employee14
	{
		tooltip	"_Hire/Unhire - Right click to remove"
		current 0
		image menu/checkbox_green
		pos	"325 712"
		size "20 20"
		change { cmd "employee_hire 14;" }
		rclick { cmd "employee_delete 14;" }
	}

	/**
	 * @param[in] <1> number of employee in the list
	 */
	confunc hire_update_number {
		*(abstractscrollbar)scroll fullsize <1>
	}

	confunc hire_fix_scroll {
		*(abstractscrollbar)scroll current <1>
	}

	vscrollbar scroll
	{
		image	menu/scrollbar_v_green	blend	true
		pos	"368 180"	height	"552"
		current 0
		viewsize 15
		fullsize 50
		change {
			cmd "mn_textscroll employee_list <lastdiff>; employee_scroll;"
		}
	}

	text employee_list
	{
		pos	"45 185"
		width	280
		lineheight	38
		tabwidth	100
		rows	"15"
		color	"0 .78 0 1"
		selectcolor	"1 1 1 1"
		mousefx	true
		textid		TEXT_LIST
//		bgcolor	"1 1 1 0.5"
		click
		whup	{ cmd "mn_textscroll employee_list -1; employee_scroll;" }
		whdown	{ cmd "mn_textscroll employee_list 1; employee_scroll;" }
		lineschange {
			*(abstractscrollbar)scroll fullsize <lines>
			*(abstractscrollbar)scroll current <text_scroll>
		}
	}

	// ==================
	// actor info
	// ==================

	textentry name
	{
		visiblewhen "mn_show_employee >= 1"
		string	"*cvar mn_name"
		pos		"465 325"
		size	"400 32"
		change {
			cmd	"employee_changename;"
		}
	}

	pic bt_edit
	{
		visiblewhen "mn_employee_hired == 1"
		tooltip	"_Rename your employee"
		image	menu/buttons_small
		pos	"865 332"
		texl	"0 48"
		texh	"16 64"
		click
		{
			cmd "mn_edittextentry name"
		}
	}

	model body
	{
		visiblewhen "mn_show_employee >= 1"
		model	"*cvar mn_body"
		skin	"*cvar mn_skin"
		anim	"stand2"
		angles	"0 70 90"
		scale	"6.7 6.7 6.7"
		pos		"469 382"
		size	"235 355"
		origin	"0 -40 0"
	}

	model head
	{
		visiblewhen "mn_show_employee >= 1"
		model		"*cvar mn_head"
		skin	"*cvar mn_skin"
		tag		"body tag_head"
		scale	"1.0 1.0 1.0"
	}

	pic	rank_img
	{
		visiblewhen "mn_show_employee >= 1"
		pos "485 674" image "*cvar mn_chrrank_img"
	}

	string	rank_lbl
	{
		visiblewhen "mn_show_employee >= 1"
		pos "485 383" string "*cvar mn_chrrank"
	}


	panel soldier_info {
		{
			visiblewhen "mn_show_employee == 1"
			pos "700 380"
			size "300 400"
		}

		string pwr_lbl { pos "10 3"  string "_Strength:" }
		string pwr_val { pos "285 3"  string "*cvar mn_tpwr" align ur }
		pic pwr_brd { pos "14 18"  image menu/bar_border }
		tbar pwr_bar
		{
			pos "17 18"  current "*cvar mn_vpwr" gap_width 3 texl "3 0" image menu/bar_attribute
			size "250 16"	max 100
		}

		string spd_lbl { pos "010 33" string "_Speed:" }
		string spd_val { pos "285 33" string "*cvar mn_tspd" align ur }
		pic spd_bdr { pos "14 48" image menu/bar_border }
		tbar spd_bar
		{
			pos "17 48" current "*cvar mn_vspd" gap_width 3 texl "3 0" image menu/bar_attribute
			size "250 16"	max 100
		}

		string acc_lbl { pos "10 63" string "_Accuracy:" }
		string acc_val { pos "285 63" string "*cvar mn_tacc" align ur }
		pic acc_bdr { pos "14 78" image menu/bar_border }
		tbar acc_bar
		{
			pos "17 78" current "*cvar mn_vacc" gap_width 3 texl "3 0" image menu/bar_attribute
			size "250 16"	max 100
		}

		string mnd_lbl { pos "10 93" string "_Mind:" }
		string mnd_val { pos "285 93" string "*cvar mn_tmnd" align ur }
		pic mnd_bdr { pos "14 108" image menu/bar_border }
		tbar mnd_bar
		{
			pos "17 108" current "*cvar mn_vmnd" gap_width 3 texl "3 0" image menu/bar_attribute
			size "250 16"	max 100
		}

		string cls_lbl { pos "10 128" string "_Close Combat:" }
		string cls_val { pos "285 128" string "*cvar mn_tcls" align ur }
		pic cls_bdr { pos "14 143" image menu/bar_border }
		tbar cls_bar
		{
			pos "17 143" current "*cvar mn_vcls" gap_width 3 texl "3 0" image menu/bar_skill
			size "250 16"	max 100
		}

		string hvy_lbl { pos "10 158" string "_Heavy Weapons:" }
		string hvy_val { pos "285 158" string "*cvar mn_thvy" align ur }
		pic hvy_bdr { pos "14 173" image menu/bar_border }
		tbar hvy_bar
		{
			pos "17 173" current "*cvar mn_vhvy" gap_width 3 texl "3 0" image menu/bar_skill
			size "250 16"	max 100
		}

		string ass_lbl { pos "10 188" string "_Assault Weapons:" }
		string ass_val { pos "285 188" string "*cvar mn_tass" align ur }
		pic ass_bdr { pos "14 203" image menu/bar_border }
		tbar ass_bar
		{
			pos "17 203" current "*cvar mn_vass" gap_width 3 texl "3 0" image menu/bar_skill
			size "250 16"	max 100
		}

		string snp_lbl { pos "10 218" string "_Sniper Rifles:" }
		string snp_val { pos "285 218" string "*cvar mn_tsnp" align ur }
		pic snp_bdr { pos "14 233" image menu/bar_border }
		tbar snp_bar
		{
			pos "17 233" current "*cvar mn_vsnp" gap_width 3 texl "3 0" image menu/bar_skill
			size "250 16"	max 100
		}

		string exp_lbl { pos "10 248" string "_High-Explosives:" }
		string exp_val { pos "285 248" string "*cvar mn_texp" align ur }
		pic exp_bdr { pos "14 263" image menu/bar_border }
		tbar exp_bar
		{
			pos "17 263" current "*cvar mn_vexp" gap_width 3 texl "3 0" image menu/bar_skill
			size "250 16"	max 100
		}

		string hp_lbl { pos "10 283" string "_Health:" }
		string hp_val { pos "285 283" string "*cvar mn_thp" align ur }
		pic hp_bdr { pos "14 298"  image menu/bar_border }
		tbar hp_bar
		{
			pos "17 298" current "*cvar mn_vhp" max "*cvar mn_vhpmax" gap_width 3 texl "3 0" image menu/bar_health
			size "250 16"
		}

		string	missions_lbl { pos "10 318" string "_Missions Performed:" }
		string	missions_val { pos "285 318" string "*cvar mn_chrmis" align ur }

		string	kills_lbl { pos "10 338" string "_Enemies Killed:" }
		string	kills_val { pos "285 338" string "*cvar mn_chrkillalien" align ur }
	}

	// ====================
	// employee description
	// ====================

	text description
	{
		pos		"610 428"
//		bgcolor "1 1 1 0.5"
		size	"366 80"
		lineheight	20
		tabwidth	260
		textid		TEXT_EMPLOYEE
		rows	"4"
	}

	// ==================
	// buttons
	// ==================

	panel global_info {
		{
			pos		"483 180"
			size	"455 111"
			//image	"menu/panel_grey"	/**< @todo update the background */
			blend	true
		}

		string label_people {
			string "_Occupation"
			pos	"20 48"
			size "100 30"
			textalign	ur
		}
		string number_people {
			string "*cvar mn_hirepeople"
			pos	"20 68"
			size "100 30"
			textalign	ur
		}

		custombutton icon_soldier {
			icon	bighead_soldier
			pos	"190 28"
			size "42 42"
		}
		string number_soldier {
			string "*cvar mn_hiresoldiers"
			pos	"190 68"
			size "42 20"
			textalign	ur
		}

		custombutton icon_pilot {
			icon	bighead_pilot
			pos	"250 28"
			size "42 42"
		}
		string number_pilot {
			string "*cvar mn_hirepilots"
			pos	"250 68"
			size "42 20"
			textalign	ur
		}

		custombutton icon_worker {
			icon	bighead_worker
			pos	"310 28"
			size "42 42"
		}
		string number_worker {
			string "*cvar mn_hireworkers"
			pos	"310 68"
			size "42 20"
			textalign	ur
		}

		custombutton icon_scientist {
			icon	bighead_scientist
			pos	"370 28"
			size "42 42"
		}
		string number_scientist {
			string "*cvar mn_hirescientists"
			pos	"370 68"
			size "42 20"
			textalign	ur
		}

	}

	// ==================
	// buttons
	// ==================

	tab empl_switch {
		pos	"35 107"
		size	"950 40"
		cvar	"*cvar mn_hiretype"
		option soldier {
			label	"_Soldiers"
			value	"0"
			icon	smallhead_soldier
			action "employee_init 0;"
		}
		option pilot {
			label	"_Pilots"
			value	"3"
			icon	smallhead_pilot
			action "employee_init 3;"
		}
		option worker {
			label	"_Workers"
			value	"2"
			icon	smallhead_worker
			action "employee_init 2;"
		}
		option scientist {
			label	"_Scientists"
			value	"1"
			icon	smallhead_scientist
			action "employee_init 1;"
		}
		//option medic {
		//	label	"_Medics"
		//	value	"5"
		//	icon	smallhead_medic
		//	action "employee_init 4;"
		//}
	}

	// ==================
	// General info
	// ==================

	string base_name
	{
		tooltip	"_Name of this base"
		string	"*cvar mn_base_title"
		pos	"60 30"
		size "240 32"
		textalign	cl
		padding	8
		font	f_big
	}

	string txt_credits_caption
	{
		string		"_CREDIT"
		pos			"675 30"
		size		"100 30"
		font		f_big
	}

	string txt_credits
	{
		tooltip		"_Organisation capital"
		string		"*cvar mn_credits"
		pos			"780 30"
		size		"130 30"
		font		f_big
		textalign	ur
	}

	custombutton bt_continue
	{
		image	menu/button_background	blend	true
		texl	"1 1"	size	"59 55"
		tooltip	"_Back to baseview"
		pos		"950 20"
		icon	"return"
		click	{ cmd "mn_pop;" }
	}

	// ==================
	// init function
	// ==================

	func init
	{
		call employee_clear
		cmd "employee_init 0;"
		cmd "set mn_hiretype 0;"
		cmd "employee_update_count"
	}

	func close
	{
		// call base init function because the amount of workers, scientists and
		// so on can also change the button state in the base view
		cmd "base_init;"
	}
}
